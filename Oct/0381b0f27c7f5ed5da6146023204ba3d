India agreed a deal with Russia to buy S-400 surface to air missile systems on Friday, the two sides said, as New Delhi disregarded U.S. warnings that such a purchase could trigger sanctions under U.S. law. Although there was no public signing, the deal was sealed during President Vladimir Putin’s ongoing visit to New Delhi for an annual summit with Indian Prime Minister Narendra Modi. “The deal was signed on the fringes of the summit,  Kremlin spokesman Dmitry Peskov told Reuters. The contract is estimated to be worth more than $5 billion and gives the Indian military the ability to shoot down aircraft and missiles at unprecedented ranges. The United States has said countries trading with Russia’s defence and intelligence sectors would face automatic sanctions under a sweeping legislation called Countering America’s Adversaries Through Sanctions Act (CAATSA). A State Department spokesperson said this week that the implementation of the sanctions act would be focused at countries acquiring weapons such as the S-400 missile batteries. Last month, the United States imposed sanctions on China’s military for its purchase of combat fighters as well as theS-400 missile system it bought from Russia this year. India is hoping that President Donald Trump’s administration will give it a waiver on the weapons systems which New Delhi sees as a deterrent against China’s bigger and superior military. “The (two) sides welcomed the conclusion of the contract for the supply of S-400 long range surface to air missile system to India,” India and Russia said in a joint statement at the end of the talks. The two countries also signed eight agreements covering space, nuclear energy and railways at a televised news conference. “We always arrive to India with great pleasure as we know that we are surrounded here in the environment of very frank friendship, business cooperation,” Putin said. Russia will also help India in its plans to mount a manned space mission by 2022. “India gives the highest priority to ties with Russia, in fact in a changing world, our ties have become more important,”Modi said. For all the warm words, ties with Moscow are a lot less central to Delhi than they were during the Cold War years, as India has diversified arms purchases, closing $15 billion of deals with the United States over the last decade.